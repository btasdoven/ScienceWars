using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Science_Wars_Server.GameUtilities;
using Science_Wars_Server.Helpers;
using Science_Wars_Server.Paths;
using Science_Wars_Server.Towers;

namespace Science_Wars_Server.Boards
{
    class RegularBoard : Board
    {
        private static IPath path;
        private static TowerSlots towerSlots;

        public RegularBoard()
        {
            if (towerSlots != null)
                towers = new Tower[towerSlots.positions.Length];
        }

       public override void loadResources()
        {
			path = new BezierPath(new List<Vector3>{
                new Vector3( -2.91924830421f, 0.0f, 7.03954396892f),
                new Vector3( -2.88991955781f, 0.0f, 6.93626193278f),
                new Vector3( -2.71009407947f, 0.0f, 6.56821712749f),
                new Vector3( -2.63612305843f, 0.0f, 6.43468548918f),
                new Vector3( -2.5621520374f, 0.0f, 6.30115385088f),
                new Vector3( -1.90790075254f, 0.0f, 5.12506502012f),
                new Vector3( -1.86603457537f, 0.0f, 4.98184590218f),
                new Vector3( -1.8241683982f, 0.0f, 4.83862678423f),
                new Vector3( -1.69340504014f, 0.0f, 4.63733627499f),
                new Vector3( -1.64518469793f, 0.0f, 4.59437139144f),
                new Vector3( -1.59696435572f, 0.0f, 4.55140650789f),
                new Vector3( -1.44004204443f, 0.0f, 4.47169736539f),
                new Vector3( -1.27197414642f, 0.0f, 4.43993943962f),
                new Vector3( -1.10390624841f, 0.0f, 4.40818151385f),
                new Vector3( -0.92469276369f, 0.0f, 4.42437480481f),
                new Vector3( -0.705723654507f, 0.0f, 4.47854742808f),
                new Vector3( -0.486754545323f, 0.0f, 4.53272005136f),
                new Vector3( -0.228029811677f, 0.0f, 4.62487200696f),
                new Vector3( -0.0107798689139f, 0.0f, 4.65871803951f),
                new Vector3( 0.206470073849f, 0.0f, 4.69256407206f),
                new Vector3( 0.316853801903f, 0.0f, 4.63540846965f),
                new Vector3( 0.401038670594f, 0.0f, 4.49141675843f),
                new Vector3( 0.485223539285f, 0.0f, 4.34742504721f),
                new Vector3( 0.385180274371f, 0.0f, 3.95856795294f),
                new Vector3( 0.247188504474f, 0.0f, 3.64053325355f),
                new Vector3( 0.109196734578f, 0.0f, 3.32249855417f),
                new Vector3( -0.0199190190662f, 0.0f, 3.04237993554f),
                new Vector3( -0.040126546565f, 0.0f, 2.86967065821f),
                new Vector3( -0.0603340740638f, 0.0f, 2.69696138089f),
                new Vector3( 0.0413928804237f, 0.0290227710367f, 2.52115198058f),
                new Vector3( 0.143652084403f, 0.0290227710367f, 2.31650009889f),
                new Vector3( 0.245911288383f, 0.0290227710367f, 2.11184821719f),
                new Vector3( 0.7652900543f, -0.287957930189f, 1.16490426303f),
                new Vector3( 0.851465199378f, -0.287957930189f, 1.0166978341f),
                new Vector3( 0.937640344456f, -0.287957930189f, 0.868491405182f),
                new Vector3( 1.05198845281f, -0.287957930189f, 0.88000986744f),
                new Vector3( 1.14868165831f, -0.287957930189f, 0.84883831817f),
                new Vector3( 1.2453748638f, -0.287957930189f, 0.817666768901f),
                new Vector3( 1.42320484634f, -0.287957930189f, 0.795264858938f),
                new Vector3( 1.62093935847f, -0.287957930189f, 0.73435670935f),
                new Vector3( 1.81867387059f, -0.287957930189f, 0.673448559763f),
                new Vector3( 1.97404089954f, -0.287957930189f, 0.595747119108f),
                new Vector3( 2.09979014538f, -0.287957930189f, 0.489055325733f),
                new Vector3( 2.22553939122f, -0.287957930189f, 0.382363532358f),
                new Vector3( 2.35009511357f, -0.287957930189f, 0.374590554635f),
                new Vector3( 2.6145633197f, -0.287957930189f, 0.334623373437f),
                new Vector3( 2.87903152582f, -0.287957930189f, 0.29465619224f),
                new Vector3( 3.28341221572f, -0.287957930189f, 0.222494807569f),
                new Vector3( 3.5025470454f, -0.287957930189f, 2.08101310692e-05f),
                new Vector3( 3.72168187507f, -0.287957930189f, -0.222453187307f),
                new Vector3( 3.75557084451f, -0.287957930189f, -0.59523979751f),
                new Vector3( 3.64410966836f, -0.287957930189f, -0.849354927552f),
                new Vector3( 3.53264849221f, -0.287957930189f, -1.10347005759f),
                new Vector3( 3.27583717047f, -0.287957930189f, -1.23891370747f),
                new Vector3( 2.88481923636f, -0.287957930189f, -1.31265078474f),
                new Vector3( 2.49380130226f, -0.287957930189f, -1.38638786201f),
                new Vector3( 1.9685767558f, -0.287957930189f, -1.39841836667f),
                new Vector3( 1.67510227685f, -0.287957930189f, -1.55716804289f),
                new Vector3( 1.38162779791f, -0.287957930189f, -1.71591771911f),
                new Vector3( 1.31990338649f, -0.287957930189f, -2.0213865669f),
                new Vector3( 1.21180642001f, -0.287957930189f, -2.21350384035f),
                new Vector3( 1.10370945354f, -0.287957930189f, -2.4056211138f),
                new Vector3( 0.780348047251f, -0.273437191697f, -2.72834175759f),
                new Vector3( 0.709902575122f, -0.273437191697f, -2.83123164978f),
                new Vector3( 0.639457102992f, -0.273437191697f, -2.93412154198f),
                new Vector3( 0.0275101810965f, 0.0280298594658f, -3.92367026149f),
                new Vector3( -0.0493878570253f, 0.0280298594658f, -4.03123399201f),
                new Vector3( -0.126285895147f, 0.0280298594658f, -4.13879772253f),
                new Vector3( -0.312426313627f, 0.0f, -4.2213463979f),
                new Vector3( -0.512683714067f, 0.0f, -4.24685787978f),
                new Vector3( -0.712941114508f, 0.0f, -4.27236936166f),
                new Vector3( -1.07839426681f, 0.0f, -4.36130478435f),
                new Vector3( -1.16264044856f, 0.0f, -4.53895321275f),
                new Vector3( -1.24688663031f, 0.0f, -4.71660164115f),
                new Vector3( -1.10576587848f, 0.0f, -4.95736972497f),
                new Vector3( -1.00608094959f, 0.0f, -5.1735949025f),
                new Vector3( -0.906396020711f, 0.0f, -5.38982008002f),
                new Vector3( -0.852551022135f, 0.0f, -5.41337998677f),
                new Vector3( -0.894879966562f, 0.0f, -5.5393649942f),
                new Vector3( -0.937208910989f, 0.0f, -5.66535000164f),
                new Vector3( -1.05865413322f, 0.0f, -5.72960835571f),
                new Vector3( -1.15075819909f, 0.0f, -5.77777057899f),
                new Vector3( -1.24286226496f, 0.0f, -5.82593280226f),
                new Vector3( -2.28509888932f, 0.0f, -6.52004797615f),
                new Vector3( -2.32792078665f, 0.0f, -6.56161791117f),
                new Vector3( -2.37074268397f, 0.0f, -6.60318784619f),
                new Vector3( -2.41097994134f, 0.0f, -6.64278542217f),
                new Vector3( -2.43475870392f, 0.0f, -6.66968007072f),
                new Vector3( -2.45853746651f, 0.0f, -6.69657471928f),
                new Vector3( -2.71427433554f, 5.96046412227e-08f, -6.90728047069f),
                new Vector3( -2.92860007286f, 5.96046412227e-08f, -7.07099819183f)}
			);
           path = new LinearPath(path, 2000);
            towerSlots = new TowerSlots(new Vector3[]
            {
				new Vector3( 1.76646250486f, -0.204906225204f, -2.83712053299f),
                new Vector3( 2.39181339741f, -0.204906225204f, -2.65529060364f),
                new Vector3( 2.54969024658f, -0.204906225204f, -2.01765322685f),
                new Vector3( 3.01909422874f, -0.204906225204f, -2.47289896011f),
                new Vector3( 0.153863132f, -0.204906225204f, -1.77113652229f),
                new Vector3( 0.782819449902f, -0.204906225204f, -1.5922434926f),
                new Vector3( 0.938504338264f, -0.204906225204f, -0.957806766033f),
                new Vector3( 1.10069718957f, -0.204906225204f, -0.319443047047f),
                new Vector3( 1.57444769144f, -0.204906225204f, -0.773034870625f),
                new Vector3( 1.73374605179f, -0.204906225204f, -0.134130656719f),
                new Vector3( 2.20749658346f, -0.204906225204f, -0.587722420692f),
                new Vector3( 2.84297513962f, -0.204906225204f, -0.406324863434f),
                new Vector3( 2.66270768642f, -0.204906225204f, 1.00721931458f),
                new Vector3( -0.489528417587f, 0.0675124153495f, -4.87928533554f),
                new Vector3( 0.145249605179f, 0.0675124153495f, -4.72120428085f),
                new Vector3( -0.0167052745819f, 0.0675124153495f, -5.34783554077f),
                new Vector3( -1.1513800621f, 0.0675124153495f, 3.03911483288f),
                new Vector3( -1.31304883957f, 0.0675124153495f, 2.40504777431f),
                new Vector3( -1.62045383453f, 0.0675124153495f, 3.49196255207f),
                new Vector3( -0.994700789452f, 0.0675124153495f, 3.67429113388f),
                new Vector3( -0.356110692024f, 0.0675124153495f, 3.85441017151f),
                new Vector3( 0.777777910233f, 0.0675124153495f, 3.15175962448f),
                new Vector3( 0.934375286102f, 0.0675124153495f, 3.78991508484f),
                new Vector3( -0.818375349045f, 0.0675124153495f, 5.0972366333f),
                new Vector3( -0.187052249908f, 0.0675124153495f, 5.2789247036f),
                new Vector3( 1.92240923643f, -0.204906225204f, -2.20004463196f)
            });
        }

        public override IPath getPath()
        {
            return path;
        }

        public override TowerSlots getTowerSlots()
        {
            return towerSlots;
        }
    }
}
